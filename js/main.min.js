let tap=new Audio;tap.src="sound/tap.mp3",tap.volume=.04;var gifAll=19,photoAll1=81,photoAll2=124,replace="Просто смотрите фото ^_^",card1="",slider1=$("#slider-1"),slider2=$("#slider-2"),gifNum1=0,photoNum1=0;let idAudio=0,musics=$(".div-audio").children("audio");function playMusic(){if(console.log(musics[idAudio]),musics[idAudio].volume=.9,musics[idAudio].paused&&$(".music-btn").hasClass("music-play")){var i=musics[idAudio].play();console.log("play____")}void 0!==i&&(i.then(i=>{}),i.catch(i=>{})),musics[idAudio].addEventListener("ended",(function(){musics[idAudio].pause(),console.log("next"),idAudio<musics.length-1?(idAudio++,console.log(idAudio),console.log("________"),playMusic()):(idAudio=2,musics[idAudio].setAttribute("loop","loop"),playMusic())}))}$(".music-btn").on("click",playMusic),$(".music-btn").click((function(){$(".music-btn").hasClass("music-pause")?($(".music-btn").toggleClass("music-pause music-play"),musics[idAudio].play(),console.log("play")):$(".music-btn").hasClass("music-play")&&($(".music-btn").toggleClass("music-play music-pause"),musics[idAudio].pause(),console.log("pause"))}));var id1=0,id2=81;for(let i=1;i<=2;i++)id1++,photoNum1+=1,i%2!=0&&(gifNum1+=1),gifNum1>gifAll&&(gifNum1=1),null==text[id1]&&(text[id1]=replace),card1=`\n             <div id="${id1}" class="card flipper card-next">\n               <div class="gif-card"><img src="img/gif/${gifNum1}.gif" alt=""></div>\n               <div class="lock lock-close front"><img src="img/lock/lock-close.svg" alt=""></div>\n               <div class="card-img back"><img src="img/photo/${photoNum1}.jpg" alt=""></div>\n               <div class="card-transparent back back-1"></div>\n               <div class="text front"><div class="text_inner"><p>${text[id1]}</p></div></div>\n             </div>\n           `,slider1.append(card1),id1%2==0&&$(`#${id1} .gif-card img`).remove();var gifNum2=0,photoNum2=0,card2="";for(let i=1;i<=2;i++)photoNum2+=1,++id2%2!=0&&(gifNum2+=1),gifNum2>gifAll&&(gifNum2=1),null==text2[id2]&&(text2[id2]=replace),card2=`\n            <div id="${id2}" class="card flipper card-next">\n              <div class="gif-card"><img src="img/gif/${gifNum2}.gif" alt=""></div>\n              <div class="lock lock-close front"><img src="img/lock/lock-close.svg" alt=""></div>\n              <div class="card-img back"><img src="img/photo-2/${photoNum2}.jpg" alt=""></div>\n              <div class="card-transparent back back-2"></div>\n              <div class="text front"><div class="text_inner"><p>${text2[i]}</p></div></div>\n            </div>\n          `,slider2.append(card2),id2%2==0&&$(`#${id2} .gif-card img`).remove();function renderNextCard1(){return photoNum1+=1,++id1%2!=0&&(gifNum1+=1),gifNum1>gifAll&&(gifNum1=1),null==text[id1]&&(text[id1]=replace),card1=`<div class="slick-slide" data-slick-index="${id1-1}" aria-hidden="true" style="width: 100vw;" tabindex="-1">\n        <div>\n          <div id="${id1}" class="card flipper card-next">\n           <div class="gif-card"><img src="img/gif/${gifNum1}.gif" alt=""></div>\n           <div class="lock lock-close front"><img src="img/lock/lock-close.svg" alt=""></div>\n           <div class="card-img back"><img src="img/photo/${id1}.jpg" alt=""></div>\n           <div class="card-transparent back back-1 slick-arrow" aria-disabled="false"></div>\n           <div class="text front"><div class="text_inner"><p>${text[id1]}</p></div></div>\n         </div>\n       </div>\n     </div> `}function renderNextCard2(){return photoNum2+=1,++id2%2!=0&&(gifNum2+=1),gifNum2>gifAll&&(gifNum2=1),null==text2[id2]&&(text2[id2]=replace),card2=`<div class="slick-slide" data-slick-index="${id2-1}" aria-hidden="true" style="width: 100vw;" tabindex="-1">\n        <div>\n          <div id="${id2}" class="card flipper card-next">\n           <div class="gif-card"><img src="img/gif/${gifNum2}.gif" alt=""></div>\n           <div class="lock lock-close front"><img src="img/lock/lock-close.svg" alt=""></div>\n           <div class="card-img back"><img src="img/photo-2/${id2-id1}.jpg" alt=""></div>\n           <div class="card-transparent back back-1 slick-arrow" aria-disabled="false"></div>\n           <div class="text front"><div class="text_inner"><p>${text2[id2-id1]}</p></div></div>\n         </div>\n       </div>\n     </div> `}function lockClick(){$("#"+photoAll1).children(".lock").hasClass("lock-open")&&$("#"+(photoAll1+1)).children(".lock").toggleClass("lock-close lock-open"),nextId=$(this).parent().parent().index(".card")+2,console.log(nextId),$(this).parent().hasClass("lock-open")&&($(this).parent().parent().addClass("open"),$(this).parent().fadeOut(300),setTimeout(()=>tap.play(),260),console.log("open"),$(this).parent().children(".text").addClass("text-none"),$("#"+nextId).children(".lock").toggleClass("lock-close lock-open"),$("#"+nextId).children(".lock").children("img").attr("src","img/lock/lock-open.svg"),$("#"+nextId).children(".text").show()),setTimeout(()=>{$("#"+nextId).children(".lock").hasClass("lock-open")&&nextId+3<=id2&&($("#slider-1").slick("setPosition"),console.log("render 1 - "+(id1+1)),setTimeout(()=>{$("#slider-1").slick("slickAdd",renderNextCard1())},1200),id1%2==0&&$(`#${id1} .gif-card img`).remove())},500),setTimeout(()=>{$("#"+(id2-1)).children(".lock").hasClass("lock-open")&&($("#slider-2").slick("setPosition"),console.log("render 2 - "+(id2+1)),setTimeout(()=>{$("#slider-2").slick("slickAdd",renderNextCard2())},1200),id2%2==0&&$(`#${id2} .gif-card img`).remove())},500)}$(".slider .card:first-child").children(".lock").children("img").attr("src","img/lock/lock-open.svg"),$(".slider .card:first-child").children(".lock").toggleClass("lock-close lock-open"),$(".slider .card").children(".text").hide(),$(".slider .card:first-child").children(".text").show(),$("#"+(photoAll1+1)).children(".lock").children("img").attr("src","img/lock/lock-close.svg"),$("#"+(photoAll1+1)).children(".lock").toggleClass("lock-open lock-close"),$("body").on("click",".lock img",lockClick),$("#slider-1").on("click",".slick-arrow",()=>{$("#slider-1").slick("slickNext")}),$("#slider-2").on("click",".slick-arrow",()=>{$("#slider-2").slick("slickNext")});